/* Main Admin JS by Proloy Bhaduri */ (function ($) { $('input[type="checkbox"]').on("change", function (e) { if ($(this).is(":checked")) { $(this).val(1); if ($("#pblzbg-css-selectors").hasClass("pb-disabled-area")) { $("#pblzbg-css-selectors").removeClass("pb-disabled-area"); } } else { $(this).val(0); $("#pblzbg-css-selectors").addClass("pb-disabled-area"); } }); })(jQuery); jQuery(document).ready(function ($) { if ($("#pblzbg-save-settings").length) { $("#pblzbg-save-settings").on("click", function (e) { e.preventDefault(); $(this).attr("disabled", true); $(this).html( 'Saving Settings' ); var islazybg = $("#pblzbg-lazybg-switch").val() !== null ? $("#pblzbg-lazybg-switch").val() : 0; var lazybgincludes = $("#pblzbg-css-selectors").val() !== null ? $("#pblzbg-css-selectors").val() : ""; /*var lazyfadein = ($('#pblzbg-fade-in').val() !== null) ? $('#pblzbg-fade-in').val() : 0;*/ var $settings_data = { is_lazybg: islazybg, lazybg_includes: lazybgincludes, }; $("#pblzbg-settings-data").val(JSON.stringify($settings_data)); /*AJAX Request*/ console.log(JSON.stringify($settings_data)); jQuery.ajax({ url: ajaxurl, type: "POST", dataType: "json", data: { action: "pblzbg_save_settings", pblzbg_settings_data: JSON.stringify($settings_data), }, success: function (response) { $(".pblzbg-spinner").remove(); console.log(response.resp); $("#pblzbg-save-settings").html("Settings Saved"); $("#pblzbg-save-settings").attr("disabled", false); $(".tab-content").before(response.notice_html); setTimeout(() => { $("#pblzbg-save-settings").html("Save Settings"); $(".pblzbg-notice").slideUp(); /*$(".pblzbg-notice").remove();*/ }, 1500); }, }); }); } }); 